
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>Print Site - HYDRA - Hydrophone Data Reduction and Analysis</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HYDRA - Hydrophone Data Reduction and Analysis" class="md-header__button md-logo" aria-label="HYDRA - Hydrophone Data Reduction and Analysis" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HYDRA - Hydrophone Data Reduction and Analysis
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HYDRA - Hydrophone Data Reduction and Analysis" class="md-nav__button md-logo" aria-label="HYDRA - Hydrophone Data Reduction and Analysis" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    HYDRA - Hydrophone Data Reduction and Analysis
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_0_Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_1_requirements/" class="md-nav__link">
        Requirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_2_install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_3_run/" class="md-nav__link">
        Running Hydra
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_4_mmConfigure/" class="md-nav__link">
        MacMini Configuration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../hydra_doc_5_Contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Print Site
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Print Site
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    1. Home
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_0_overview" class="md-nav__link">
    2. Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_1_requirements" class="md-nav__link">
    3. Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_2_install" class="md-nav__link">
    4. Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_3_run" class="md-nav__link">
    5. Running Hydra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_4_mmconfigure" class="md-nav__link">
    6. MacMini Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_5_contact" class="md-nav__link">
    7. Contact
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    1. Home
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_0_overview" class="md-nav__link">
    2. Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_1_requirements" class="md-nav__link">
    3. Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_2_install" class="md-nav__link">
    4. Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_3_run" class="md-nav__link">
    5. Running Hydra
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_4_mmconfigure" class="md-nav__link">
    6. MacMini Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hydra_doc_5_contact" class="md-nav__link">
    7. Contact
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section id="print-site-cover-page">
            
<div>

    
        <h1>HYDRA - Hydrophone Data Reduction and Analysis</h1>
    

</div>


<table>

    

    

    

    

</table>





        </section>
        
        <div id="print-site-banner">
            <p>
    <em>This box will disappear when printing</em>
    <span style="float: right"><a href="https://timvink.github.io/mkdocs-print-site-plugin/">mkdocs-print-site-plugin</a></span>
</p>
<p>
    This page has combined all site pages into one. You can export to PDF using <b>File > Print > Save as PDF</b>.
</p>
<p>
    See also <a href="https://timvink.github.io/mkdocs-print-site-plugin/how-to/export-PDF.html">export to PDF</a> and <a href="https://timvink.github.io/mkdocs-print-site-plugin/how-to/export-HTML.html">export to standalone HTML</a>.
</p>
        </div>
        
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="6">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index"><p>Hi!</p></section><section class="print-page" id="hydra_doc_0_overview"><h1 id="hydra_doc_0_overview-overview">Overview</h1>
<p>Hydra (Hydrophone Data Reduction and Analysis) is a modular Python software for the detection, classification, and localization of bio-acoustic signals in ocean acoustic recordings. It was built to run alongside active recording efforts, providing fully automated ocean intelligence in near real-time. It has been developed by <a href="https://www.soundspaceanalytics.ca">SoundSpace Analytics</a>.</p>
<p>Hydra is written in Python3 and consists of python scripts executed through a terminal window as well as a user interface to help executing and monitoring the software.</p>
<p>Hydra receives acoustic recordings stored on a computer or accessible external drive, and returns .csv files with signal detection and localization statistics.</p>
<p>Three bio-acoustic processing modules : a signal detector, a signal classifier, and a signal localizer.
Each element builds on each other. This means the localizer requires the output of the signal classifier, which requires the output of the signal detector. At the same time, the modules are independent entities and if the classifier or localizer is activated without the proper input feed from the previous module, it will idle until that data is provided.</p></section><section class="print-page" id="hydra_doc_1_requirements"><h1 id="hydra_doc_1_requirements-requirements">Requirements</h1>
<h2 id="hydra_doc_1_requirements-operating-system"><mark>Operating System</mark></h2>
<p>Hydra requires MacOS 10.15 (Catalina) or higher. All current versions run on MacOS 13 (Ventura)</p>
<h2 id="hydra_doc_1_requirements-python"><mark>Python</mark></h2>
<p>All algorithms and UI components are written in Python3 and the current Hydra environment uses Python 3.10.4.</p>
<h2 id="hydra_doc_1_requirements-data-access-and-format"><mark>Data access and format</mark></h2>
<p>Currently, Hydra accepts both .wav and .flac file types. Hydra processes data after it is stored on disk with a path that uniquely identifies its location in a directory structure. </p>
<h2 id="hydra_doc_1_requirements-data-storage"><mark>Data storage</mark></h2>
<p>Hydra data products requires 1-10 GB of storage space for each hydrophone per year.</p></section><section class="print-page" id="hydra_doc_2_install"><h1 id="hydra_doc_2_install-installation">Installation</h1>
<h2 id="hydra_doc_2_install-install-anaconda">Install Anaconda</h2>
<p>Anaconda is used to facilitate the majority of library installs required for Hydra. To install Anaconda download the graphical macOS installer for your Mac system (Intel, or M1/M2) following this link:</p>
<div class="language-http highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#hydra_doc_2_install-__codelineno-0-1"></a><span class="err">https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html</span>
</span></code></pre></div>
<h2 id="hydra_doc_2_install-create-python-environment">Create Python Environment</h2>
<p>Hydra will be executed from a dedicated Python environment. The current version of Hydra is built and tested in Python 3.10.4<sup id="fnref:1"><a class="footnote-ref" href="#hydra_doc_2_install-fn:1">1</a></sup>. To create the appropriate Python Environment using the terminal follow these steps: </p>
<div class="language-sh highlight"><span class="filename">Update Anaconda</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#hydra_doc_2_install-__codelineno-1-1"></a>conda<span class="w"> </span>update<span class="w"> </span>-n<span class="w"> </span>base<span class="w"> </span>-c<span class="w"> </span>defaults<span class="w"> </span>conda
</span></code></pre></div>
<div class="language-sh highlight"><span class="filename">Create Python Environment</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#hydra_doc_2_install-__codelineno-2-1"></a>conda<span class="w"> </span>create<span class="w"> </span>--name<span class="w"> </span>SSP3<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.10.4
</span></code></pre></div>
<details class="note" open="open">
<summary>Note</summary>
<p>Hydra and Tuna share the same Python environment and libraries. The SSP3 environment is created only once and used for both programs.</p>
</details>
<h2 id="hydra_doc_2_install-install-python-libraries">Install Python Libraries</h2>
<p>Most of the required libraries for Hydra are installed using the <code>pip install *library*</code> command. There are two exceptions: the Basemap library and the Matplotlib-legacycontour library.</p>
<p>First, activate the proper Python environment:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#hydra_doc_2_install-__codelineno-3-1"></a>conda<span class="w"> </span>activate<span class="w"> </span>SSP3
</span></code></pre></div>
<p>Install the following list of libraries using the standard pip procedure:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#hydra_doc_2_install-__codelineno-4-1"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">pandas</span><span class="o">==</span><span class="m">2</span>.0.1
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#hydra_doc_2_install-__codelineno-4-2"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">numpy</span><span class="o">==</span><span class="m">1</span>.24.3
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#hydra_doc_2_install-__codelineno-4-3"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">scipy</span><span class="o">==</span><span class="m">1</span>.10.1
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#hydra_doc_2_install-__codelineno-4-4"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">soundfile</span><span class="o">==</span><span class="m">0</span>.12.1
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#hydra_doc_2_install-__codelineno-4-5"></a>pip<span class="w"> </span>install<span class="w"> </span>scikit-image<span class="o">==</span><span class="m">0</span>.19.3
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#hydra_doc_2_install-__codelineno-4-6"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">datetime</span><span class="o">==</span><span class="m">5</span>.1
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#hydra_doc_2_install-__codelineno-4-7"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">tinytag</span><span class="o">==</span><span class="m">1</span>.9.0
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#hydra_doc_2_install-__codelineno-4-8"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">apscheduler</span><span class="o">==</span><span class="m">3</span>.10.1
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#hydra_doc_2_install-__codelineno-4-9"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">utm</span><span class="o">==</span><span class="m">0</span>.7.0
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#hydra_doc_2_install-__codelineno-4-10"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">tqdm</span><span class="o">==</span><span class="m">4</span>.65.0
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#hydra_doc_2_install-__codelineno-4-11"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">shapely</span><span class="o">==</span><span class="m">2</span>.0.1
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#hydra_doc_2_install-__codelineno-4-12"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">geos</span><span class="o">==</span><span class="m">0</span>.2.3
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#hydra_doc_2_install-__codelineno-4-13"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">ipython</span><span class="o">==</span><span class="m">8</span>.13.2
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#hydra_doc_2_install-__codelineno-4-14"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">pyproj</span><span class="o">==</span><span class="m">3</span>.5.0
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#hydra_doc_2_install-__codelineno-4-15"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">matplotlib</span><span class="o">==</span><span class="m">3</span>.7.1
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#hydra_doc_2_install-__codelineno-4-16"></a>pip<span class="w"> </span>install<span class="w"> </span>scikit-learn<span class="o">==</span><span class="m">1</span>.1.2
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#hydra_doc_2_install-__codelineno-4-17"></a>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">customtkinter</span><span class="o">==</span><span class="m">4</span>.6.3
</span></code></pre></div>
<h3 id="hydra_doc_2_install-the-basemap-library">The Basemap Library</h3>
<p>Hydra currently requires the Basemap library for all mapping elements. Basemap is not a Python core library and requires different installation procedures on different systems.</p>
<h4 id="hydra_doc_2_install-mac-os-x-catalina-processor-intel">Mac OS X: Catalina &amp; Processor: Intel</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#hydra_doc_2_install-__codelineno-5-1"></a>conda<span class="w"> </span>install<span class="w"> </span>basemap
</span></code></pre></div>
<h4 id="hydra_doc_2_install-mac-os-x-ventura-processor-intel">Mac OS X: Ventura &amp; Processor: Intel</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#hydra_doc_2_install-__codelineno-6-1"></a>pip<span class="w"> </span>install<span class="w"> </span>basemap
</span></code></pre></div>
<p>then
<div class="language-sh highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#hydra_doc_2_install-__codelineno-7-1"></a>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>basemap-data-hires
</span></code></pre></div></p>
<h4 id="hydra_doc_2_install-mac-os-x-ventura-processor-m1m2">Mac OS X: Ventura &amp; Processor: M1/M2</h4>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#hydra_doc_2_install-__codelineno-8-1"></a>conda<span class="w"> </span>install<span class="w"> </span>wget
</span></code></pre></div>
<p>then
<div class="language-sh highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#hydra_doc_2_install-__codelineno-9-1"></a>wget<span class="w"> </span>http://download.osgeo.org/geos/geos-3.3.8.tar.bz2
</span></code></pre></div></p>
<p>then, move to geos directory and extract:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#hydra_doc_2_install-__codelineno-10-1"></a>tar<span class="w"> </span>-xvf<span class="w"> </span>geos-3.3.8.tar.bz2
</span></code></pre></div>
<p>then move into extracted geos directory and install:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#hydra_doc_2_install-__codelineno-11-1"></a>./configure
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#hydra_doc_2_install-__codelineno-11-2"></a>make
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#hydra_doc_2_install-__codelineno-11-3"></a>sudo<span class="w"> </span>make<span class="w"> </span>install
</span></code></pre></div>
<p>then install Basemap with pip</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#hydra_doc_2_install-__codelineno-12-1"></a>pip<span class="w"> </span>install<span class="w"> </span>Basemap
</span></code></pre></div>
<p>then install separate high-resolution Basemap material</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#hydra_doc_2_install-__codelineno-13-1"></a>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>basemap-data-hires
</span></code></pre></div>
<p>done.</p>
<h3 id="hydra_doc_2_install-the-matplotlib-legacycontour-library">The Matplotlib-legacycontour Library</h3>
<p>Matplotlib-legacycontour is an outdates library that has been removed from more recent versions of matplotlib. It has to be installed seperately from the GitHub repository:</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#hydra_doc_2_install-__codelineno-14-1"></a>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/matplotlib/legacycontour
</span></code></pre></div>
<div class="footnote">
<hr />
<ol>
<li id="hydra_doc_2_install-fn:1">
<p>Other python versions higher than 3.10 may work too but have not been tested.&#160;<a class="footnote-backref" href="#hydra_doc_2_install-fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div></section><section class="print-page" id="hydra_doc_3_run"><h1 id="hydra_doc_3_run-running-hydra">Running Hydra</h1>
<p>Currently, Hydra consists of three bio-acoustic processing modules: a signal detector, a signal classifier, and a signal localizer.
Each element builds on each other. This means the localizer requires the output of the signal classifier, which requires the output of the signal detector. At the same time, the modules are independent of each other in that all three can run on their own if the others are de-activated. Therefore, if the classifier or localizer is activated without the proper input feed from the previous module, it will simply idle until that data is provided.</p>
<p>The source code for each module is organized the following way:
- <mark>core_modules</mark> contain the basic functionality and algorithms that do not require configuration and are only edited for development purposes.
- <mark>front_modules</mark> handle the execution of the modules. It contains a <mark>params.py</mark>, <mark>func.py</mark>, and <mark>exec.py</mark> file for each module. The <em>params</em> files configure the algorithms themselves and should only be edited when you know what you are doing. The <em>func</em>, and <em>exec</em> files handle the execution of the module and are edit-for-development only. 
    - <mark>make_tdoa_model.py</mark> designs the localization setup and the spatial configuration of hydrophones as well as other parameters such as the sound speed profile that is relevant for computing localization models. This file needs to be configured for each new localization setup, and requires editing if, e.g., a hydrophone is re-located or a change in the sound speed profile is found.
    - <mark>fname_interpreter.py</mark> configures the execution for a set of data on a specific machine. This files needs to be configured before each run of Hydra.</p>
<h2 id="hydra_doc_3_run-configuration">Configuration</h2>
<p>Configuration of Hydra is achieved through a single file: <mark>fname_interpreter.py</mark>, located in <mark>front_modules</mark>.</p>
<ol>
<li>
<p>Filename nomenclature</p>
<p>Hydra must extract the timestamp from each acoustic file, assuming this to be the start time of the recording. For this, edit those elements in fname_itp_dateime to indicate the string section of the appropriate timestamp information within the filename:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#hydra_doc_3_run-__codelineno-0-1"></a><span class="n">file_datestr</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filename</span><span class="p">)[</span><span class="mi">15</span><span class="p">:</span><span class="mi">30</span><span class="p">]</span> <span class="c1"># EDIT THIS</span>
</span></code></pre></div>
<p>as well as the timestamp encoding of the string section:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#hydra_doc_3_run-__codelineno-1-1"></a><span class="n">datestr_layout</span> <span class="o">=</span> <span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">T%H%M%S&#39;</span> <span class="c1"># EDIT THIS</span>
</span></code></pre></div>
</li>
<li>
<p>Logging directory and interval</p>
<p>Hydra will produce multiple log files: dlog, plog, and clog (see fname_interperter.py for details). The root directory for all log files needs to be defined seperately. The default should always be. </p>
<p>All log files will be created and stored in subdirectories according to the logging interval which can be chosen from daily to annually. The default logging interval is monthly.  </p>
<details class="example">
<summary>Example</summary>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#hydra_doc_3_run-__codelineno-2-1"></a><span class="n">RootDir_dlog</span> <span class="o">=</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hydra</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">dlog</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#hydra_doc_3_run-__codelineno-2-2"></a><span class="n">RootDir_plog</span> <span class="o">=</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hydra</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">plog</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#hydra_doc_3_run-__codelineno-2-3"></a><span class="n">RootDir_clog</span> <span class="o">=</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hydra</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">clog</span>
</span></code></pre></div>
</details>
</li>
<li>
<p>Verbose</p>
<p>Hydra communicates back to the user in three ways.</p>
<p>a. Feedback is given through the Terminal; this option provides the most detailed feedback and can be used for development and troubleshooting the algorithms.</p>
<p>b. Feedback is given through the UI; this option provides core feedback to the UI; this option is the default and should be used during normal operation.</p>
<p>c. No feedback is given; this option is the fastest but will give no indication about system health or processing status; this option should only be used if a sucessfull run can be savely assumed and no monitoring is required or expected.</p>
</li>
<li>
<p>Processing Interval</p>
<p>Three paramters define the time window Hydra considered for processing. The <mark>lookback</mark> parameter defines a time (in seconds) Hydra will look in the past for files to process. The <mark>lookto</mark> and <mark>lookfrom</mark> parameters define a time window within which acoustic files are processed. To achive maximum flexibility, the three parameters work as an <code>AND</code> logic: all time conditions must be met for a file to be processed.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>The lookback window is relative to the local computer time on which Hydra is executed compared to the timestamp of acoustic data. Make sure to account for the fact that those may not operate in the same timezone.</p>
</details>
</li>
<li>
<p>Acoustic file properties</p>
<p>Properties of the acoustic recordings to be processed are defined in <mark>rec_dict</mark>. It is a key-value dictionary supplying information about samplingrate, file type (wav/FLAC), length of recording, timezone difference between computer and data timestamps, as well as information whether or not files from multiple hydrophone elements are synchronized. 
The latter is required for Hydra's localization module. Synchronized data means that all hydrophone units involved in localization are stored in identical intervals and thus will have identical timestamps encoded in their filenames.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>Synchronized filenames from multiple hydrophone elements is now a requirement for localization. Hydra will not attempt to match files with arbitrary recording intervals.</p>
</details>
<details class="example">
<summary>Example</summary>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#hydra_doc_3_run-__codelineno-3-1"></a><span class="n">rec_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#hydra_doc_3_run-__codelineno-3-2"></a>        <span class="s1">&#39;FS&#39;</span> <span class="p">:</span> <span class="mi">64000</span><span class="p">,</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#hydra_doc_3_run-__codelineno-3-3"></a>        <span class="s1">&#39;DTYPE&#39;</span> <span class="p">:</span> <span class="s1">&#39;.flac&#39;</span><span class="p">,</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#hydra_doc_3_run-__codelineno-3-4"></a>        <span class="s1">&#39;RECLEN&#39;</span> <span class="p">:</span> <span class="mf">300.0</span><span class="p">,</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#hydra_doc_3_run-__codelineno-3-5"></a>        <span class="s1">&#39;UTCTOLOC&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">7.0</span><span class="p">,</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#hydra_doc_3_run-__codelineno-3-6"></a>        <span class="s1">&#39;SYNCHED&#39;</span> <span class="p">:</span> <span class="kc">True</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#hydra_doc_3_run-__codelineno-3-7"></a>        <span class="p">}</span>
</span></code></pre></div>
</details>
</li>
<li>
<p>Hydrophone Unit Properties</p>
<p>Properties of the hydrophone unit(s) are defined in <mark>h_dict</mark>. It is a key-value dictorionary supplying information about ownership, the deployment site, and the unit itself. It also provides the root directory for the acoustic data associated with the unit as well as a template for acceptable filenames to be considered for processing.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>It is prudent to define the filename template as concise as possible to avoide accidental processing of undesired files.</p>
</details>
<p>6.a. Setup <ins>without</ins> localization</p>
<p>The key for only a single hydrophone is supplied. The <em>ROLE</em> key must be set to 'master'.</p>
<details class="example">
<summary>Example</summary>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#hydra_doc_3_run-__codelineno-4-1"></a><span class="n">h_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#hydra_doc_3_run-__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#hydra_doc_3_run-__codelineno-4-3"></a><span class="s1">&#39;ICHF1280&#39;</span> <span class="p">:</span> <span class="p">{</span>  <span class="s1">&#39;OWNER&#39;</span> <span class="p">:</span> <span class="s1">&#39;SWAG&#39;</span><span class="p">,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#hydra_doc_3_run-__codelineno-4-4"></a>            <span class="s1">&#39;POPNAME&#39;</span> <span class="p">:</span> <span class="s1">&#39;OtterChannel&#39;</span><span class="p">,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#hydra_doc_3_run-__codelineno-4-5"></a>            <span class="s1">&#39;SITE_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;OTTR-01&#39;</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#hydra_doc_3_run-__codelineno-4-6"></a>            <span class="s1">&#39;H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICHF1280&#39;</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#hydra_doc_3_run-__codelineno-4-7"></a>            <span class="s1">&#39;FNAME_H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;1280&#39;</span><span class="p">,</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#hydra_doc_3_run-__codelineno-4-8"></a>            <span class="s1">&#39;LAT&#39;</span> <span class="p">:</span> <span class="s1">&#39;+59.2393&#39;</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#hydra_doc_3_run-__codelineno-4-9"></a>            <span class="s1">&#39;LON&#39;</span> <span class="p">:</span> <span class="s1">&#39;-128.35574&#39;</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#hydra_doc_3_run-__codelineno-4-10"></a>            <span class="s1">&#39;X_UTM&#39;</span><span class="p">:</span> <span class="mf">466701.</span><span class="p">,</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#hydra_doc_3_run-__codelineno-4-11"></a>            <span class="s1">&#39;Y_UTM&#39;</span><span class="p">:</span> <span class="mf">5895834.9</span><span class="p">,</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#hydra_doc_3_run-__codelineno-4-12"></a>            <span class="s1">&#39;FNAME_TEMPLATE&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICLISTENHF1280_2023????T??????.???Z_2023????T??????.???Z.flac&#39;</span><span class="p">,</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#hydra_doc_3_run-__codelineno-4-13"></a>            <span class="s1">&#39;ROOTDIR&#39;</span> <span class="p">:</span> <span class="s1">&#39;/Volumes/SWAG-20220520-PR/OTTR-01/ICHF1280-20221016/&#39;</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#hydra_doc_3_run-__codelineno-4-14"></a>            <span class="s1">&#39;ROLE&#39;</span> <span class="p">:</span> <span class="s1">&#39;master&#39;</span> 
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#hydra_doc_3_run-__codelineno-4-15"></a>            <span class="p">}</span>
</span></code></pre></div>
</details>
<p>6.b. Setup <ins>with</ins> localization</p>
<p>The keys for all hydrophones associated in the localization process are supplied. The <em>ROLE</em> key must be set to 'master' for the unit that is executed through the Hydra UI. All other units only serve as cross correlation partners and their <em>ROLE</em> must be set to 'slave'.</p>
<details class="note" open="open">
<summary>Note</summary>
<p>Hydrophone units assigned a 'slave' role will not be processed and no data products will be produced for them. </p>
</details>
<details class="example">
<summary>Example</summary>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#hydra_doc_3_run-__codelineno-5-1"></a><span class="n">h_dict</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#hydra_doc_3_run-__codelineno-5-2"></a><span class="s1">&#39;ICHF1280&#39;</span> <span class="p">:</span> <span class="p">{</span>  <span class="s1">&#39;OWNER&#39;</span> <span class="p">:</span> <span class="s1">&#39;SWAG&#39;</span><span class="p">,</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#hydra_doc_3_run-__codelineno-5-3"></a>                <span class="s1">&#39;POPNAME&#39;</span> <span class="p">:</span> <span class="s1">&#39;OtterChannel&#39;</span><span class="p">,</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#hydra_doc_3_run-__codelineno-5-4"></a>                <span class="s1">&#39;SITE_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;OTTR-01&#39;</span><span class="p">,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#hydra_doc_3_run-__codelineno-5-5"></a>                <span class="s1">&#39;H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICHF1280&#39;</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#hydra_doc_3_run-__codelineno-5-6"></a>                <span class="s1">&#39;FNAME_H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;1280&#39;</span><span class="p">,</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#hydra_doc_3_run-__codelineno-5-7"></a>                <span class="s1">&#39;LAT&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#hydra_doc_3_run-__codelineno-5-8"></a>                <span class="s1">&#39;LON&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#hydra_doc_3_run-__codelineno-5-9"></a>                <span class="s1">&#39;X_UTM&#39;</span><span class="p">:</span> <span class="mf">466701.</span><span class="p">,</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#hydra_doc_3_run-__codelineno-5-10"></a>                <span class="s1">&#39;Y_UTM&#39;</span><span class="p">:</span> <span class="mf">5895834.9</span><span class="p">,</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#hydra_doc_3_run-__codelineno-5-11"></a>                <span class="s1">&#39;FNAME_TEMPLATE&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICLISTENHF1280_2023????T??????.???Z_2023????T??????.???Z.flac&#39;</span><span class="p">,</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#hydra_doc_3_run-__codelineno-5-12"></a>                <span class="s1">&#39;ROOTDIR&#39;</span> <span class="p">:</span> <span class="s1">&#39;/Volumes/SWAG-20220520-PR/OTTR-01/ICHF1280-20221016/&#39;</span><span class="p">,</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#hydra_doc_3_run-__codelineno-5-13"></a>                <span class="s1">&#39;ROLE&#39;</span> <span class="p">:</span> <span class="s1">&#39;slave&#39;</span> 
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#hydra_doc_3_run-__codelineno-5-14"></a>                <span class="p">},</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#hydra_doc_3_run-__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#hydra_doc_3_run-__codelineno-5-16"></a><span class="s1">&#39;ICHF6033&#39;</span> <span class="p">:</span> <span class="p">{</span>  <span class="s1">&#39;OWNER&#39;</span> <span class="p">:</span> <span class="s1">&#39;SWAG&#39;</span><span class="p">,</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#hydra_doc_3_run-__codelineno-5-17"></a>                <span class="s1">&#39;POPNAME&#39;</span> <span class="p">:</span> <span class="s1">&#39;CampaniaIsland&#39;</span><span class="p">,</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#hydra_doc_3_run-__codelineno-5-18"></a>                <span class="s1">&#39;SITE_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;CAMP-01&#39;</span><span class="p">,</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#hydra_doc_3_run-__codelineno-5-19"></a>                <span class="s1">&#39;H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICHF6033&#39;</span><span class="p">,</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#hydra_doc_3_run-__codelineno-5-20"></a>                <span class="s1">&#39;FNAME_H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;6033&#39;</span><span class="p">,</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#hydra_doc_3_run-__codelineno-5-21"></a>                <span class="s1">&#39;LAT&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#hydra_doc_3_run-__codelineno-5-22"></a>                <span class="s1">&#39;LON&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#hydra_doc_3_run-__codelineno-5-23"></a>                <span class="s1">&#39;X_UTM&#39;</span><span class="p">:</span> <span class="mf">466701.</span><span class="p">,</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#hydra_doc_3_run-__codelineno-5-24"></a>                <span class="s1">&#39;Y_UTM&#39;</span><span class="p">:</span> <span class="mf">5895834.9</span><span class="p">,</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#hydra_doc_3_run-__codelineno-5-25"></a>                <span class="s1">&#39;FNAME_TEMPLATE&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICLISTENHF6033_2023????T??????.???Z_2023????T??????.???Z.flac&#39;</span><span class="p">,</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#hydra_doc_3_run-__codelineno-5-26"></a>                <span class="s1">&#39;ROOTDIR&#39;</span> <span class="p">:</span> <span class="s1">&#39;/Volumes/SWAG-20220520-PR/CAMP-01/ICHF6033-20221016/&#39;</span><span class="p">,</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#hydra_doc_3_run-__codelineno-5-27"></a>                <span class="s1">&#39;ROLE&#39;</span> <span class="p">:</span> <span class="s1">&#39;slave&#39;</span> 
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#hydra_doc_3_run-__codelineno-5-28"></a>                <span class="p">},</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#hydra_doc_3_run-__codelineno-5-29"></a>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#hydra_doc_3_run-__codelineno-5-30"></a><span class="s1">&#39;ICHF6155&#39;</span> <span class="p">:</span> <span class="p">{</span>  <span class="s1">&#39;OWNER&#39;</span> <span class="p">:</span> <span class="s1">&#39;SWAG&#39;</span><span class="p">,</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#hydra_doc_3_run-__codelineno-5-31"></a>                <span class="s1">&#39;POPNAME&#39;</span> <span class="p">:</span> <span class="s1">&#39;FinIsland&#39;</span><span class="p">,</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#hydra_doc_3_run-__codelineno-5-32"></a>                <span class="s1">&#39;SITE_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;FNIS-01&#39;</span><span class="p">,</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#hydra_doc_3_run-__codelineno-5-33"></a>                <span class="s1">&#39;H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICHF6155&#39;</span><span class="p">,</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#hydra_doc_3_run-__codelineno-5-34"></a>                <span class="s1">&#39;FNAME_H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;6155&#39;</span><span class="p">,</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#hydra_doc_3_run-__codelineno-5-35"></a>                <span class="s1">&#39;LAT&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#hydra_doc_3_run-__codelineno-5-36"></a>                <span class="s1">&#39;LON&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#hydra_doc_3_run-__codelineno-5-37"></a>                <span class="s1">&#39;X_UTM&#39;</span><span class="p">:</span> <span class="mf">466701.</span><span class="p">,</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#hydra_doc_3_run-__codelineno-5-38"></a>                <span class="s1">&#39;Y_UTM&#39;</span><span class="p">:</span> <span class="mf">5895834.9</span><span class="p">,</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#hydra_doc_3_run-__codelineno-5-39"></a>                <span class="s1">&#39;FNAME_TEMPLATE&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICLISTENHF6155_2023????T??????.???Z_2023????T??????.???Z.flac&#39;</span><span class="p">,</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#hydra_doc_3_run-__codelineno-5-40"></a>                <span class="s1">&#39;ROOTDIR&#39;</span> <span class="p">:</span> <span class="s1">&#39;/Volumes/SWAG-20220520-PR/FNIS-01/ICHF6155-20220521/&#39;</span><span class="p">,</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#hydra_doc_3_run-__codelineno-5-41"></a>                <span class="s1">&#39;ROLE&#39;</span> <span class="p">:</span> <span class="s1">&#39;master&#39;</span> 
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#hydra_doc_3_run-__codelineno-5-42"></a>                <span class="p">},</span>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#hydra_doc_3_run-__codelineno-5-43"></a>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#hydra_doc_3_run-__codelineno-5-44"></a><span class="s1">&#39;ICHF6154&#39;</span> <span class="p">:</span> <span class="p">{</span>  <span class="s1">&#39;OWNER&#39;</span> <span class="p">:</span> <span class="s1">&#39;SWAG&#39;</span><span class="p">,</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#hydra_doc_3_run-__codelineno-5-45"></a>                <span class="s1">&#39;POPNAME&#39;</span> <span class="p">:</span> <span class="s1">&#39;GilIsland&#39;</span><span class="p">,</span>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#hydra_doc_3_run-__codelineno-5-46"></a>                <span class="s1">&#39;SITE_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;GLIS-01&#39;</span><span class="p">,</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#hydra_doc_3_run-__codelineno-5-47"></a>                <span class="s1">&#39;H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICHF6154&#39;</span><span class="p">,</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#hydra_doc_3_run-__codelineno-5-48"></a>                <span class="s1">&#39;FNAME_H_ID&#39;</span> <span class="p">:</span> <span class="s1">&#39;6154&#39;</span><span class="p">,</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#hydra_doc_3_run-__codelineno-5-49"></a>                <span class="s1">&#39;LAT&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#hydra_doc_3_run-__codelineno-5-50"></a>                <span class="s1">&#39;LON&#39;</span> <span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#hydra_doc_3_run-__codelineno-5-51"></a>                <span class="s1">&#39;X_UTM&#39;</span><span class="p">:</span> <span class="mf">466701.</span><span class="p">,</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#hydra_doc_3_run-__codelineno-5-52"></a>                <span class="s1">&#39;Y_UTM&#39;</span><span class="p">:</span> <span class="mf">5895834.9</span><span class="p">,</span>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#hydra_doc_3_run-__codelineno-5-53"></a>                <span class="s1">&#39;FNAME_TEMPLATE&#39;</span> <span class="p">:</span> <span class="s1">&#39;ICLISTENHF6154_2023????T??????.???Z_2023????T??????.???Z.flac&#39;</span><span class="p">,</span>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#hydra_doc_3_run-__codelineno-5-54"></a>                <span class="s1">&#39;ROOTDIR&#39;</span> <span class="p">:</span> <span class="s1">&#39;/Volumes/SWAG-20220520-PR/GLIS-01/ICHF6154-20220521/&#39;</span><span class="p">,</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#hydra_doc_3_run-__codelineno-5-55"></a>                <span class="s1">&#39;ROLE&#39;</span> <span class="p">:</span> <span class="s1">&#39;slave&#39;</span> 
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#hydra_doc_3_run-__codelineno-5-56"></a>                <span class="p">}</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#hydra_doc_3_run-__codelineno-5-57"></a><span class="p">}</span>
</span></code></pre></div>
</details>
</li>
</ol>
<h2 id="hydra_doc_3_run-the-ui">The UI</h2>
<p>The UI has been developed as a bare-bone interface to facilitate execution/termination of all bio-acoustic processing routines and as an easy way for users to monitor progress and system status. Most of the configuration parameters that were previously defined in fname_interpreter.py are displayed in the UI for confirmation.</p>
<p>The Hydra UI is opened through the terminal. </p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#hydra_doc_3_run-__codelineno-6-1"></a>conda<span class="w"> </span>activate<span class="w"> </span>SSP3
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#hydra_doc_3_run-__codelineno-6-2"></a>python<span class="w"> </span>path/to/Hydra*.py
</span></code></pre></div>
<figure>
<p><img alt="Hydra UI 2023" src="/assets/Hydra_UI.png" />
  </p>
<figcaption>Figure 1: Hydra User Interface, 2023 Version.</figcaption>
</figure>
<h3 id="hydra_doc_3_run-run-hydra">Run Hydra</h3>
<p>Each module is selected through the Module Sidebar and activated using the Activate Button. To pause the processing for a module, press the Stop Button.   </p>
<h3 id="hydra_doc_3_run-monitor-progress">Monitor Progress</h3>
<p>Progress is monitored in the Status section. It provides information about the processing progress for each module. The status bar indicates the fraction of detected files that have been sucessfully processed. Below, information is given about the total number of processed files ("Files"), the percentage towards completion ("Progress"), as well as the estimated time to completion ("Time"). The bottom field always displays the last file that has been processed, unless the module as been paused ("idle"), or is in the process of gathering data after being activated ("initiated").</p>
<p>The Summary section gives a count of all call detections/localizations made. It is available only for the classification and localization module.</p>
<p>The Status and Summary sections are updated with each processed file.</p>
<h3 id="hydra_doc_3_run-terminate-the-ui">Terminate the UI</h3>
<p>The UI is closed by simply closing the window it is executed in. The program will always ask for a confirmation of this action and will stop all active processes when confirmation is given. </p></section><section class="print-page" id="hydra_doc_4_mmconfigure"><h1 id="hydra_doc_4_mmconfigure-macmini-configuration">MacMini Configuration</h1>
<h2 id="hydra_doc_4_mmconfigure-system-settings">System Settings</h2>
<p>Edit the following <mark>System Settings</mark> items: </p>
<h3 id="hydra_doc_4_mmconfigure-enable-automatic-restart">Enable Automatic Restart</h3>
<p>Using the terminal:</p>
<div class="language-sh highlight"><span class="filename">Enable automatic restart (desktop)</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#hydra_doc_4_mmconfigure-__codelineno-0-1"></a>sudo<span class="w"> </span>systemsetup<span class="w"> </span>-setrestartpowerfailure<span class="w"> </span>on
</span></code></pre></div>
<div class="language-sh highlight"><span class="filename">Enable automatic restart (laptop)</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#hydra_doc_4_mmconfigure-__codelineno-1-1"></a>sudo<span class="w"> </span>systemsetup<span class="w"> </span>-setrestartfreeze<span class="w"> </span>on<span class="w"> </span>
</span></code></pre></div>
<p>or:</p>
<p>Energy Saver &gt; Start up automatically after a power failure --&gt; <em>ON</em></p>
<h3 id="hydra_doc_4_mmconfigure-enable-automatic-login">Enable Automatic Login</h3>
<p>Users &amp; Groups &gt; Auto-login --&gt; ON
Login Password &gt; Automatically log in after a restart --&gt; ON</p>
<h3 id="hydra_doc_4_mmconfigure-open-anydesk-on-startup">Open AnyDesk on Startup</h3>
<p>General &gt; Login Items --&gt; Add AnyDesk</p>
<h3 id="hydra_doc_4_mmconfigure-disable-sleep-settings">Disable Sleep settings</h3>
<p>Energy Saver &gt; Put hard disks to sleep when possible --&gt; OFF
Energy Saver &gt; Wake for network access --&gt; OFF</p>
<p>Lock Screen &gt; Start Screen Saver when active --&gt; Never
Lock Screen &gt; Turn display off when inactive --&gt; Never</p>
<p>Displays &gt; Advanced &gt; Prevent automatic sleeping when the display is off --&gt; ON</p>
<h3 id="hydra_doc_4_mmconfigure-disable-software-updates">Disable software updates</h3>
<p>General &gt; Software Update &gt; Automatic updates --&gt; OFF</p>
<h2 id="hydra_doc_4_mmconfigure-create-hydra-desktop-shortcut">Create Hydra Desktop Shortcut</h2>
<p>First, create a script that a) activates the Python environment for Hydra, b) changes directory to the location from which Hydra is executed, and c) executes Hydra. The first line should include a shebang (<code>#!</code>) identifier with the location of bash on the Mac Mini. Save this to the Desktop named <em>Hydra_2023</em>.</p>
<details class="example">
<summary>Example</summary>
<div class="language-sh highlight"><span class="filename">Hydra_2023 Desktop Shortcut</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#hydra_doc_4_mmconfigure-__codelineno-2-1"></a><span class="ch">#!/usr/bin/env bash</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#hydra_doc_4_mmconfigure-__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#hydra_doc_4_mmconfigure-__codelineno-2-3"></a><span class="nb">source</span><span class="w"> </span>activate<span class="w"> </span>SSP3
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#hydra_doc_4_mmconfigure-__codelineno-2-4"></a><span class="nb">cd</span><span class="w"> </span><span class="s1">&#39;/Users/janiewray/SoundSpace/SWAG/SWAG_FNIS-01_ICHF6155_2023/HYDRA&#39;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#hydra_doc_4_mmconfigure-__codelineno-2-5"></a>python<span class="w"> </span>Hydra_2023_v1p6.py
</span></code></pre></div>
</details>
<details class="note">
<summary>Note</summary>
<p>When executed via shortcut script, the Python environment is activated using <code>source activate</code>. If the same process is done through the Terminal directly, the required command is <code>conda activate</code>.</p>
</details>
<p>Give all required permissions (read, write, execute):</p>
<div class="language-sh highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#hydra_doc_4_mmconfigure-__codelineno-3-1"></a><span class="nb">cd</span><span class="w"> </span>path/to/hydra_shortcut
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#hydra_doc_4_mmconfigure-__codelineno-3-2"></a>chmod<span class="w"> </span>+xrw<span class="w"> </span>HYDRA_2023
</span></code></pre></div>
<p>The icon image for the Desktop shortcut can be customized by right-clicking on the icon, then selecting <em>Get Info</em>. Any desired .png or .ico graphic can now be dragged and dropped into the upper left corner to replace the default graphic.</p>
<h2 id="hydra_doc_4_mmconfigure-install-auxiliary-programs">Install Auxiliary Programs</h2>
<h3 id="hydra_doc_4_mmconfigure-audacity">Audacity</h3>
<p>Audacity is a an audio viewing and editing application. It is free and available here:</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#hydra_doc_4_mmconfigure-__codelineno-4-1"></a>https://www.audacityteam.org/download/mac/
</span></code></pre></div>
<h3 id="hydra_doc_4_mmconfigure-googledrive">GoogleDrive</h3>
<p>GoogleDrive is the desktop application to the cloud storage service provided by Google. It helps transferring data seamlessly to and from machnines deployed in the field.</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#hydra_doc_4_mmconfigure-__codelineno-5-1"></a>https://www.google.com/intl/en_ca/drive/download/
</span></code></pre></div>
<h3 id="hydra_doc_4_mmconfigure-googlechrome">GoogleChrome</h3>
<p>GoogleChrome is my preferred internet browser for field computers.</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#hydra_doc_4_mmconfigure-__codelineno-6-1"></a>https://www.google.com/chrome/
</span></code></pre></div>
<h3 id="hydra_doc_4_mmconfigure-anydesk">AnyDesk</h3>
<p>AnyDesk facilitates remote Desktop access to field computers. </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#hydra_doc_4_mmconfigure-__codelineno-7-1"></a>https://anydesk.com/en/downloads/mac-os
</span></code></pre></div>
<h3 id="hydra_doc_4_mmconfigure-sublimetext">SublimeText</h3>
<p>SublimeText is a free text editor that is used for code writing/editing.</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#hydra_doc_4_mmconfigure-__codelineno-8-1"></a>https://www.sublimetext.com/3
</span></code></pre></div></section><section class="print-page" id="hydra_doc_5_contact"><h1 id="hydra_doc_5_contact-contact">Contact</h1>
<p><strong>Benjamin Hendricks</strong></p>
<p>benhendricks@soundspace-analytics.ca</p>
<p>(+1) 250 532 3179</p>
<p><a href="http:://soundspaceanalytics.ca">soundspaceanalytics.ca</a></p></section></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "/", "features": ["content.code.select", "content.code.copy"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../js/print-site.js"></script>
        
      
    
  </body>
</html>